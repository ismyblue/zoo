<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
</head>
<body>
<img src="/zooapi/image_code">
<button id="btn">Click Meee</button>
<form action="/zooapi/login" method="post" >
    <label>username:</label> <input type="text" name="username" ><br>
    <label>password:</label> <input type="password" name="password" ><br>
    <label>image_code:</label> <input type="text" name="image_code" ><br>
    <label>提交:</label> <input type="submit" value="登录Login"><br>

</form>
<script src="js/jquery-3.5.1.min.js"></script>
</body>
<script>
    $("#btn").click(()=>{
        $.ajax({
        "url": "http://127.0.0.1:8000/zooapi/login",
        "type": "post",
        "data": {
            username: 3,
            article_id: 1,
        },
        "dateType": "json",
        "success": (json)=>{
            var last=JSON.stringify(json)
            alert(last)
        },
        "error": (json)=>{
            var last=JSON.stringify(json)
            alert(last)
        }
        })
    })
    //浏览器地址栏参数，返回一个json对象
    function getQueryParameters()
    {
           var param_json = {}
           var query = window.location.href
           query = query.split("?")[1]
           var vars = query.split("&");
           for (var i=0;i<vars.length;i++) {
                var pair = vars[i].split("=");
                param_json[pair[0]] = pair[1]
           }
           return param_json
    }
    $(document).ready(()=>{
        param_json = getQueryParameters()
        alert(JSON.stringify(param_json))

    })



</script>
</html>